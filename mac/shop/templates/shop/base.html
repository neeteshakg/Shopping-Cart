

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{%  block title %} {% endblock %}</title>

    {% load static %}


    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
   {% block style %} <style></style>{% endblock %}
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="/shop">E-Commerce Website</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/shop">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/shop/about/">About Us<span class="sr-only"></span></a>
          </li>
            <li class="nav-item">
            <a class="nav-link" href="/shop/category/">CATEGORY WISE PRODUCT</a>
          </li>

            <li class="nav-item">
            <a class="nav-link" href="/shop/contact">Contact Us</a>
          </li>
<li class="nav-item">
            <a class="nav-link" href="/shop/checkout">Check Out</a>
          </li>
<!--          <li class="nav-item">-->
<!--            <a class="nav-link" href="#">Cart(<span id="cart">0</span>)</a>-->
<!--          </li>-->

        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-warning my-2 my-sm-0" type="submit">Search</button>
        </form>
          <button id="popcart" type="button" class="btn btn-secondary mx-2" data-html="true" data-container="body" data-toggle="popover" data-placement="bottom" data-content="Vivamus
sagittis lacus vel augue laoreet rutrum faucibus.">
  Cart(<span id="cart">0</span>)
</button>
      </div>
    </nav>


    <div class="container">
<!--      <div class="row justify-content-center">-->
<!--        <div class="col-12">-->
<!--          <h1 class="mt-2">ECOMMERCE WEB</h1>-->
<!--          <hr class="mt-0 mb-4">-->
{% block content %}
          {% endblock %}
        </div>
      </div>
    </div>
<script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>-->
<!--     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>-->
    {% block js %}
<script>
    console.log("sda");
    if (localStorage.getItem('cart') == null)
    {
        var cart = {};
    }
    else
    {
        cart = JSON.parse(localStorage.getItem('cart'));
        document.getElementById('cart').innerHTML = Object.keys(cart).length
    }
    $('.cart').click(function(){
        console.log('Clicked');
        var idstr = this.id.toString()

        if(cart[idstr] == undefined)
        {
            cart[idstr] = 1;
        }
        else
        {
            cart[idstr] += 1;
        }
        console.log(cart);
        localStorage.setItem('cart',JSON.stringify(cart));
        document.getElementById('cart').innerHTML = Object.keys(cart).length

     });
      $('#popcart').popover();
      document.getElementById('popcart').setAttribute('data-content','<h4>CART</h4>');

</script>
{% endblock %}

</body>
</html>